<!DOCTYPE html>         
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<title>Minecraft Servers</title>

<link rel="icon" href="img/favicons/favicon.png.jpg">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body>
<nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3">
    <div class="container">
        <a href="index.html" class="navbar-brand">Minecraft</a>
        
        <button 
                class="navbar-toggler"
                type="button" 
                data-bs-toggle="collapse" 
                data-bs-target="#navmenu"
                aria-controls="navmenu"
                aria-expanded="false"
                aria-label="Toggle navigation"
                >
            <span class="navbar-toggler-icon"></span> 
        </button>
        <div class="collapse navbar-collapse" id="navmenu"> 
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="nav-item ">
                  <a class="nav-link " href="/index.html">Home </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/mcbservers.html">Bedrock</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link active" href="/mcserver.html">Minecraft</a>
                  </li>
            </ul>
        </div>
    </div>
   
</nav>
<!--server section-->
<section class="bg-light text-dark p-5 p-lg-0 pt-lg-5 text-center ">
    
    
        
       
    <h2 >survival</h2>
    <div class="text-3xl"><span class="text-7xl font-medium text-black mb-5" id="server-ip"></span><span>:</span><span class="text-7xl font-medium text-black mb-5" id="server-port"></span></div>
    
    <span class="text-gray-300 text-lg mb-3 server-online" id="motd">Server Offline</span>
    <div class="text-3xl"><span class="font-semibold server-status" id="player-count">0</span><span class="font-semibold server-status"> /</span> <span class="font-semibold server-status" id="max-players">0</span> Players Online</div>

    
</section>

<script>
    function initServerData(serverIp, serverPort){
        const serverIpElement = document.getElementById('server-ip');
        serverIpElement.innerHTML = serverIp;
        const serverPortElement = document.getElementById('server-port');
        serverPortElement.innerHTML = serverPort;
        fetch('https://api.mcsrvstat.us/2/'+serverIp)
        .then(response => response.json())
        .then(data => handleServerStatus(data));
  
        function handleServerStatus(data){
            if(data.status=='error'){
                console.log(data.error);
                return false;
            }
            console.log(data);
            const motd = document.getElementById("motd");
            motd.innerHTML = data.motd.clean;
            const playerCounter = document.getElementById("player-count");
            playerCounter.innerHTML = data.players.online;
            const maxPlayers = document.getElementById("max-players");
            maxPlayers.innerHTML = data.players.max;
           
           
            
        } 
    }

    initServerData("au11no.com", "25565");
</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
<footer></footer>
</html>
